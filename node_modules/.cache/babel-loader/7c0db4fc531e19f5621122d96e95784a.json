{"ast":null,"code":"import _classCallCheck from \"/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/src/components/SlideShow/Slide.js\";\nimport React from 'react';\n\nvar Slide =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Slide, _React$Component);\n\n  function Slide() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Slide);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Slide)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isLoaded: false,\n      isError: false\n    };\n\n    _this.onImageLoaded = function () {\n      _this.setState({\n        isLoaded: true\n      });\n    };\n\n    _this.onImageLoadError = function () {\n      _this.setState({\n        isError: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Slide, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.load(this.img);\n    }\n  }, {\n    key: \"load\",\n    value: function load(img) {\n      var _this2 = this;\n\n      var image = img;\n      if (image === null) return;\n      image.src = this.props.url;\n\n      image.onload = function () {\n        _this2.onImageLoaded();\n      };\n\n      image.onerror = function () {\n        _this2.onImageLoadError(_this2.props.url);\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var url = this.props.url;\n      if (this.state.isError) return null;\n      return React.createElement(\"div\", {\n        className: \"slide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, !this.state.isLoaded && React.createElement(\"img\", {\n        src: \"./images/loading.svg\",\n        alt: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        ref: function ref(img) {\n          return _this3.img = img;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Slide;\n}(React.Component);\n\nexport { Slide as default };","map":{"version":3,"sources":["/Users/kara/Documents/Evry/ProjetM2/KidsCodeClient-master/src/components/SlideShow/Slide.js"],"names":["React","Slide","state","isLoaded","isError","onImageLoaded","setState","onImageLoadError","load","img","image","src","props","url","onload","onerror","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAEqBC,K;;;;;;;;;;;;;;;;;UACjBC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE,KADN;AAEJC,MAAAA,OAAO,EAAE;AAFL,K;;UAqBRC,a,GAAgB,YAAM;AAClB,YAAKC,QAAL,CAAc;AACVH,QAAAA,QAAQ,EAAE;AADA,OAAd;AAGH,K;;UAEDI,gB,GAAmB,YAAM;AACrB,YAAKD,QAAL,CAAc;AACVF,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,K;;;;;;;wCA1BmB;AAChB,WAAKI,IAAL,CAAU,KAAKC,GAAf;AACH;;;yBAEIA,G,EAAK;AAAA;;AACN,UAAIC,KAAK,GAAGD,GAAZ;AACA,UAAIC,KAAK,KAAK,IAAd,EAAoB;AACpBA,MAAAA,KAAK,CAACC,GAAN,GAAY,KAAKC,KAAL,CAAWC,GAAvB;;AACAH,MAAAA,KAAK,CAACI,MAAN,GAAe,YAAM;AACjB,QAAA,MAAI,CAACT,aAAL;AACH,OAFD;;AAGAK,MAAAA,KAAK,CAACK,OAAN,GAAgB,YAAM;AAClB,QAAA,MAAI,CAACR,gBAAL,CAAsB,MAAI,CAACK,KAAL,CAAWC,GAAjC;AACH,OAFD;AAGH;;;6BAcS;AAAA;;AACN,UAAIA,GAAG,GAAG,KAAKD,KAAL,CAAWC,GAArB;AAEA,UAAI,KAAKX,KAAL,CAAWE,OAAf,EAAwB,OAAO,IAAP;AAExB,aACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,CAAC,KAAKF,KAAL,CAAWC,QAAZ,IAAwB;AAAK,QAAA,GAAG,EAAC,sBAAT;AAAgC,QAAA,GAAG,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD7B,EAEI;AAAK,QAAA,GAAG,EAAE,aAACM,GAAD;AAAA,iBAAQ,MAAI,CAACA,GAAL,GAAWA,GAAnB;AAAA,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAOH;;;;EA9C8BT,KAAK,CAACgB,S;;SAApBf,K","sourcesContent":["import React from 'react';\n\nexport default class Slide extends React.Component {\n    state = {\n        isLoaded: false,\n        isError: false\n    }\n\n    componentDidMount() {\n        this.load(this.img);\n    }\n\n    load(img) {\n        var image = img;\n        if (image === null) return;\n        image.src = this.props.url;\n        image.onload = () => {\n            this.onImageLoaded();\n        }\n        image.onerror = () => {\n            this.onImageLoadError(this.props.url);\n        }\n    }\n\n    onImageLoaded = () => {\n        this.setState({\n            isLoaded: true\n        });\n    }\n\n    onImageLoadError = () => {\n        this.setState({\n            isError: true\n        })\n    }\n    \n    render () {\n        let url = this.props.url;\n\n        if (this.state.isError) return null;\n\n        return (\n            <div className=\"slide\">\n                {!this.state.isLoaded && <img src=\"./images/loading.svg\" alt=\"loading\" />}\n                <img ref={(img)=> this.img = img} />\n            </div>\n\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}